<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@400;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: black;
            overflow: hidden; /* Prevent scrolling */
            height: 100vh;
            width: 100vw;
            color: white;
        }

        .christmas-font { font-family: 'Mountains of Christmas', cursive; }

        /* Matrix Canvas Background */
        #matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; /* Behind content */
            opacity: 0.4; /* Subtle enough to not distract */
        }

        /* Viewport Transition Wrapper */
        #main-viewport {
            height: 200vh; /* Holds both screens stacked */
            width: 100%;
            display: flex;
            flex-direction: column;
            transform: translateY(-100vh); 
            transition: transform 1.2s cubic-bezier(0.4, 0.0, 0.2, 1);
            position: relative;
            z-index: 10; /* Above matrix */
        }

        /* Class to slide everything down */
        .slide-down-active {
            transform: translateY(0) !important;
        }

        /* Each Scene takes full screen height */
        .scene-section {
            height: 100vh;
            width: 100%;
            position: relative;
            overflow-y: auto;
            overflow-x: hidden;
        }

        /* Snow Animation - Adjusted for Matrix theme */
        .snowflake {
            position: absolute;
            top: -10px;
            color: #d1fae5; /* Light green/white tint */
            font-size: 1em;
            opacity: 0.6;
            pointer-events: none;
            z-index: 50;
            animation: fall linear forwards;
            text-shadow: 0 0 5px #4ade80; /* Glowing snow */
        }
        @keyframes fall { to { transform: translateY(110vh); } }

        /* Card Animation */
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        .card-container { transition: transform 0.8s cubic-bezier(0.4, 0.0, 0.2, 1); }
        .open-state .card-container { transform: rotateY(180deg); }

        /* Ornament Animation */
        .ornament {
            transition: transform 0.3s ease, filter 0.3s ease;
            transform-origin: top center;
            animation: sway 3s ease-in-out infinite alternate;
        }
        .ornament:hover {
            transform: scale(1.1) rotate(0deg) !important;
            filter: drop-shadow(0 0 10px #4ade80); /* Matrix Green Glow */
            z-index: 50;
            cursor: pointer;
        }
        @keyframes sway {
            0% { transform: rotate(-3deg); }
            100% { transform: rotate(3deg); }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #15803d; rounded: 4px; }
    </style>
</head>
<body>

    <!-- Matrix Background -->
    <canvas id="matrix-bg"></canvas>

    <!-- Main Wrapper that slides -->
    <div id="main-viewport">
        
        <!-- SCENE 2: THE TEAM TREE (Positioned on TOP) -->
        <div id="scene-tree" class="scene-section flex flex-col items-center py-10 relative">
            <h1 class="christmas-font text-5xl text-green-400 mb-2 text-center drop-shadow-[0_0_10px_rgba(74,222,128,0.8)] mt-8">Our Digital Tree</h1>
            <p class="text-center text-green-200 mb-8 max-w-md px-4 font-mono text-sm">> Accessing Team Database...</p>
            
            <!-- Tree Container -->
            <div class="relative w-full max-w-5xl px-4 flex justify-center pb-32">
                <div id="team-container" class="flex flex-wrap justify-center items-start gap-6 max-w-4xl">
                    <!-- Ornaments will be injected here by JavaScript -->
                </div>
            </div>

            <!-- Back Button -->
            <button onclick="backToCard()" class="fixed bottom-6 left-6 bg-black/50 hover:bg-green-900/50 backdrop-blur text-green-400 px-4 py-2 rounded border border-green-500/50 transition z-40 font-mono text-sm">
                [ UP_DIRECTORY ]
            </button>
        </div>

        <!-- SCENE 1: THE CARD (Positioned on BOTTOM) -->
        <div id="scene-card" class="scene-section flex items-center justify-center">
            <div id="cardWrapper" class="relative w-80 h-96 sm:w-96 sm:h-[500px] perspective-1000 z-20 cursor-pointer group">
                <div class="card-container relative w-full h-full transform-style-3d shadow-2xl rounded-xl">
                    
                    <!-- Front -->
                    <div class="absolute w-full h-full backface-hidden bg-gradient-to-br from-gray-900 to-black rounded-xl flex flex-col items-center justify-center border-2 border-green-500 p-6 text-center text-white shadow-[0_0_20px_rgba(34,197,94,0.3)]">
                        <div class="text-6xl mb-4 animate-pulse">üéÑ</div>
                        <h1 class="christmas-font text-5xl font-bold mb-2 text-green-400 drop-shadow-[0_0_5px_rgba(74,222,128,0.8)]">System: Xmas</h1>
                        <p class="text-lg text-green-200 font-mono opacity-80">> Decrypting...</p>
                        <div class="mt-8">
                            <span class="bg-green-600 text-black px-4 py-2 font-bold shadow-[0_0_10px_#22c55e] text-sm hover:bg-green-400 transition font-mono">
                                [ EXECUTE_OPEN ]
                            </span>
                        </div>
                    </div>

                    <!-- Back (Inside) -->
                    <div class="absolute w-full h-full backface-hidden rotate-y-180 bg-black rounded-xl flex flex-col items-center justify-center p-8 text-center border-2 border-green-500 shadow-[inset_0_0_20px_rgba(34,197,94,0.2)]">
                        <h2 class="christmas-font text-3xl text-green-500 font-bold mb-2">Access Granted</h2>
                        <p class="text-green-100/80 text-sm leading-relaxed mb-6 font-mono">
                            We wanted to send you a special transmission from the team mainframe.
                        </p>
                        
                        <!-- BUTTON to Trigger Slide -->
                        <button onclick="goToTree(event)" class="bg-green-700 hover:bg-green-600 text-white font-bold py-3 px-6 rounded shadow-[0_0_15px_#15803d] transform transition hover:scale-105 flex items-center gap-2 font-mono">
                            <span>üíæ</span> [ LOAD_TEAM ]
                        </button>
                        
                        <button onclick="resetCard(event)" class="mt-6 text-xs text-gray-500 hover:text-green-400 font-mono">
                            < close_process >
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- MESSAGE MODAL (Pop-up) -->
    <div id="messageModal" class="fixed inset-0 bg-black/90 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm" onclick="closeModal()">
        <div class="bg-gray-900 text-green-400 rounded border border-green-500 p-6 max-w-sm w-full relative transform scale-100 transition shadow-[0_0_30px_rgba(34,197,94,0.2)]" onclick="event.stopPropagation()">
            <button onclick="closeModal()" class="absolute top-2 right-4 text-3xl text-green-700 hover:text-green-400">&times;</button>
            <div class="flex flex-col items-center text-center">
                <img id="modalImg" src="" class="w-24 h-24 rounded-full border-2 border-green-400 shadow-[0_0_15px_rgba(34,197,94,0.5)] mb-4 object-cover">
                <h3 id="modalName" class="font-mono text-xl text-green-400 font-bold"></h3>
                <div class="w-full h-px bg-green-800 my-3"></div>
                <p id="modalMsg" class="text-lg leading-relaxed font-mono text-green-200"></p>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        //  üëá EDIT YOUR TEAM HERE üëá
        // ==========================================
        
        // IMPORTANT: 
        // 1. Make sure you create a folder named 'Photo' in your GitHub repository.
        // 2. Upload images there.
        // 3. Ensure the filenames match EXACTLY (Abishkar_Rai.png is not the same as abishkar_rai.jpg).
        // 4. If your images are .jpg, change the extension in the code below.

        const teamMembers = [
            // --- NEW TEAM MEMBERS (Linked to 'Photo' folder) ---
            { name: "Abishkar Rai", message: "Happy Holidays from the Mainframe!", photoUrl: "Photo/Abi.png" },
            { name: "Asti Lamichhane", message: "Wishing you 100% Uptime and 0 Bugs!", photoUrl: "Photo/Asti.png" },
            { name: "Clyron Bello", message: "May your New Year be bug-free!", photoUrl: "Photo/Cly.png" },
            { name: "Eric Cha", message: "System Status: Jolly.", photoUrl: "Photo/Eric.png" },
            { name: "Krishan Khelawan", message: "Deploying joy to production...", photoUrl: "Photo/Krishan.png" },
            { name: "Krystyna Mustac", message: "Wishing you a secure and happy holiday!", photoUrl: "Photo/Krystyna.png" },
            { name: "Logan Langford", message: "Hacking the holidays for maximum fun.", photoUrl: "Photo/Logan.png" },
            { name: "Mae Ann Mojado", message: "Sending encrypted hugs!", photoUrl: "Photo/Mae.png" },
            { name: "Michael Connolly", message: "May your days be merry and your code clean.", photoUrl: "Photo/Michael_C.png" },
            { name: "Michael Mortlock", message: "Festive algorithms activated.", photoUrl: "Photo/Michael.png" },
            // { name: "Mikhaela Ferrer", message: "Merry Christmas from the digital world!", photoUrl: "Photo/Mikhaela_Ferrer.png" },
            { name: "Premlata Gaur", message: "Wishing you a pixel-perfect new year.", photoUrl: "Photo/Prem.png" },
            { name: "Rejina Chhetri", message: "Loading happiness... 100%", photoUrl: "Photo/Rej.png" },
            { name: "Ryuji Uematsu", message: "Have a wonderful holiday reboot!", photoUrl: "Photo/Ryuji.png" },
            { name: "Saydi Saydikirim", message: "Peace, Love, and Code.", photoUrl: "Photo/Saydi_Saydi.png" },
            { name: "Tony Taneski", message: "See you in the next build version (2025)!", photoUrl: "Photo/Tony.png" }
        ];

        // ==========================================
        //  üëÜ END OF EDITING AREA üëÜ
        // ==========================================

        // --- MATRIX RAIN EFFECT ---
        const canvas = document.getElementById('matrix-bg');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*‚ùÑ‚òÖüéÑ";
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = [];

        // Initialize drops
        for (let i = 0; i < columns; i++) {
            drops[i] = 1;
        }

        function drawMatrix() {
            // Black bg with slight opacity for trail effect
            ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = "#0F0"; // Green text
            ctx.font = fontSize + "px monospace";

            for (let i = 0; i < drops.length; i++) {
                const text = chars.charAt(Math.floor(Math.random() * chars.length));
                
                // Randomly color special xmas chars
                if (text === '‚ùÑ' || text === '‚òÖ') ctx.fillStyle = "#FFF";
                else if (text === 'üéÑ') ctx.fillStyle = "#F00";
                else ctx.fillStyle = "#22c55e"; // Matrix Green

                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 33);


        // --- Tree Builder ---
        const container = document.getElementById('team-container');
        teamMembers.forEach((member) => {
            const div = document.createElement('div');
            const delay = Math.random() * 2; 
            div.className = 'ornament flex flex-col items-center group relative';
            div.style.animationDelay = `-${delay}s`;
            div.onclick = () => showMessage(member);
            
            // ERROR HANDLING FOR IMAGES
            // If the local photo isn't found, it falls back to a placeholder
            const fallbackUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(member.name)}&background=random&color=fff`;

            // Updated styles for Matrix Theme (Green borders, glow)
            div.innerHTML = `
                <div class="h-8 w-0.5 bg-green-500/50"></div>
                <div class="w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 border-green-500 overflow-hidden shadow-[0_0_10px_rgba(34,197,94,0.4)] bg-black relative z-10 transition hover:border-white hover:shadow-[0_0_20px_#4ade80]">
                    <img src="${member.photoUrl}" 
                         alt="${member.name}" 
                         class="w-full h-full object-cover opacity-90 group-hover:opacity-100"
                         onerror="this.src='${fallbackUrl}'">
                    <div class="absolute inset-0 bg-green-900/20 group-hover:bg-transparent transition"></div>
                </div>
                <span class="mt-2 bg-black/60 border border-green-500/30 backdrop-blur px-2 py-1 rounded text-[10px] sm:text-xs font-mono text-green-300 shadow-sm text-center w-auto whitespace-nowrap">${member.name}</span>
            `;
            container.appendChild(div);
        });

        // --- Interaction Logic ---
        const cardWrapper = document.getElementById('cardWrapper');
        const viewport = document.getElementById('main-viewport');

        // Card Click
        cardWrapper.addEventListener('click', function() {
            this.classList.toggle('open-state');
            if(this.classList.contains('open-state')) createFirework();
        });

        function resetCard(e) {
            e.stopPropagation();
            cardWrapper.classList.remove('open-state');
        }

        // --- SLIDE ANIMATION LOGIC ---
        function goToTree(e) {
            e.stopPropagation();
            // Slide Down to 0 (Showing Top Section)
            viewport.classList.add('slide-down-active');
        }

        function backToCard() {
            // Slide Up back to -100vh (Showing Bottom Section)
            viewport.classList.remove('slide-down-active');
        }

        // --- Modal Logic ---
        const modal = document.getElementById('messageModal');
        const mImg = document.getElementById('modalImg');
        const mName = document.getElementById('modalName');
        const mMsg = document.getElementById('modalMsg');

        function showMessage(member) {
            // Check if photoUrl is a valid path or we need fallback
            mImg.src = member.photoUrl;
            mImg.onerror = function() {
                this.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(member.name)}&background=random&color=fff`;
            };

            mName.innerText = member.name;
            mMsg.innerText = member.message;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeModal() {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // --- Effects ---
        // Snow (Updated to be cleaner for Matrix theme)
        setInterval(() => {
            const snow = document.createElement('div');
            snow.classList.add('snowflake');
            snow.innerHTML = Math.random() > 0.5 ? '1' : '0'; // Binary snow!
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.fontSize = (Math.random() * 10 + 10) + 'px';
            snow.style.animationDuration = (Math.random() * 3 + 2) + 's';
            // Random green or white
            snow.style.color = Math.random() > 0.8 ? '#fff' : '#22c55e';
            document.body.appendChild(snow);
            setTimeout(() => snow.remove(), 5000);
        }, 150);

        function createFirework() {
            const colors = ['#22c55e', '#ffffff', '#ef4444']; // Green, White, Red
            for(let i=0; i<30; i++) {
                const p = document.createElement('div');
                p.style.cssText = `position:absolute;left:50%;top:50%;width:6px;height:6px;border-radius:0;pointer-events:none;z-index:50;transition:all 1s ease-out;opacity:1;`;
                p.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
                p.style.boxShadow = "0 0 10px " + p.style.backgroundColor; // Glowing particles
                document.body.appendChild(p);
                const rect = cardWrapper.getBoundingClientRect();
                p.style.left = (rect.left + rect.width/2) + 'px';
                p.style.top = (rect.top + rect.height/2) + 'px';
                requestAnimationFrame(() => {
                    p.style.transform = `translate(${(Math.random()-0.5)*400}px, ${(Math.random()-0.5)*400}px) rotate(${Math.random()*360}deg)`;
                    p.style.opacity = '0';
                });
                setTimeout(() => p.remove(), 1000);
            }
        }
    </script>
</body>
</html>